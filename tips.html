<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Today's Tips</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header>
    <nav class="navbar">
    <button class="hamburger" onclick="toggleMobileMenu()">‚ò∞</button>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="bets_accumulator.html">Bets & Accumulator</a></li>
      <li><a href="tips.html">Today's Tips</a></li>
      <li><a href="results.html">Results</a></li>
      <li><a href="tipster_profiles.html">Tipster Profiles</a></li>
      <li class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown()">Select Tipster ‚ñº</button>
        <div class="dropdown-content" id="tipsterDropdown">
          <a href="tipster_bio/bitwise81.html"><img src="images/tipsters/bitwise81.jpg" alt="Bitwise81" /> Bitwise81</a>
          <a href="tipster_bio/patch36.html"><img src="images/tipsters/patch36.jpg" alt="Patch36" /> Patch36</a>
          <a href="tipster_bio/echo161.html"><img src="images/tipsters/echo161.jpg" alt="Echo161" /> Echo161</a>
          <a href="tipster_bio/core449.html"><img src="images/tipsters/core449.jpg" alt="Core449" /> Core449</a>
          <a href="tipster_bio/fractal153.html"><img src="images/tipsters/fractal153.jpg" alt="Fractal153" /> Fractal153</a>
          <a href="tipster_bio/nova98.html"><img src="images/tipsters/nova98.jpg" alt="Nova98" /> Nova98</a>
          <a href="tipster_bio/byte10.html"><img src="images/tipsters/byte10.jpg" alt="Byte10" /> Byte10</a>
          <a href="tipster_bio/grid56.html"><img src="images/tipsters/grid56.jpg" alt="Grid56" /> Grid56</a>
          <a href="tipster_bio/cipher75.html"><img src="images/tipsters/cipher75.jpg" alt="Cipher75" /> Cipher75</a>
          <a href="tipster_bio/prime51.html"><img src="images/tipsters/prime51.jpg" alt="Prime51" /> Prime51</a>
          <a href="tipster_bio/shock109.html"><img src="images/tipsters/shock109.jpg" alt="Shock109" /> Shock109</a>
          <a href="tipster_bio/max63.html"><img src="images/tipsters/max63.jpg" alt="Max63" /> Max63</a>
          <a href="tipster_bio/sneak9.html"><img src="images/tipsters/sneak9.jpg" alt="Sneak9" /> Sneak9</a>
          <a href="tipster_bio/zebra37.html"><img src="images/tipsters/zebra37.jpg" alt="Zebra37" /> Zebra37</a>
        </div>
      </li>
    </ul>
  </nav>
  </header>

  <div class="page-banner" style="background-image: url('images/todays_tips-banner (1).jpg');">
    <h1>Top Metric Selections</h1>
  </div>

  <main>
    <p>Below are today's top selections generated using our AI models and smart scoring system:</p>

    <!-- ‚úÖ Dynamic data from Google Apps Script appears here -->
    <div id="gdrive-data"></div>
  </main>

  <footer>
    <p>&copy; 2025 Horse Racing Tips</p>
  </footer>

  <script>
    fetch('https://script.google.com/macros/s/AKfycbxRHcIVAOp4oBNA1BgJsdCVE8cW5DbYOETpuU3e9sG38psRHHKGPoVrqh8ucl71TMYR/exec')
      .then(response => response.json())
      .then(data => {
        const headers = [
          "üî• Confidence",
          "üìç Course",
          "‚è∞ Off Time",
          "üèá Horse",
          "üí∞ Odds",
          "üèÅ Result",
          "üíµ Profit",
          "üìä Super Score",
          "üìà Weighted Score",
          "üéØ Rank"
        ];

        let output = '<table border="1"><tr>';
        headers.forEach(h => output += `<th>${h}</th>`);
        output += '</tr>';

        data.slice(1).forEach(row => {
          output += '<tr>';
          headers.forEach((h, i) => {
            let cell = row[i];

            if (i === 0) {
              const color =
                cell === "Strong" ? "#c8e6c9" :
                cell === "Medium" ? "#fff9c4" :
                "#ffe0b2";
              cell = `<span style="background-color:${color}; padding:4px; border-radius:4px;">${cell}</span>`;
            }

            output += `<td>${cell}</td>`;
          });
          output += '</tr>';
        });

        output += '</table>';
        document.getElementById('gdrive-data').innerHTML = output;
      })
      .catch(error => {
        document.getElementById('gdrive-data').textContent = 'Failed to load data: ' + error;
      });

    function toggleDropdown() {
    document.getElementById("tipsterDropdown").classList.toggle("show");
  }

  function toggleMobileMenu() {
    document.getElementById("navLinks").classList.toggle("mobile-show");
  }

  // Close dropdown if user clicks outside of it
  window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
      const dropdowns = document.getElementsByClassName("dropdown-content");
      for (let i = 0; i < dropdowns.length; i++) {
        dropdowns[i].classList.remove('show');
      }
    }
  };
  </script>

</body>
</html>
